<div class="tform">
	<H2><%=t('student.stu_details')%></H2>
	<table width=100%>
			<tr>
					<td class="leftcol"><%= t 'student.icno' %><font color="red"> * </font></td>
					<td><%= f.text_field :icno, :size => 12 %></td>
			</tr>
			<tr>
					<td class="leftcol"><%= t 'student.name' %><font color="red"> * </font></td>
					<td><%= f.text_field :name %></td>
			</tr>
			<tr>
					<td class="leftcol"><%= t 'student.matrixno' %></td>
					<td><%= f.text_field :matrixno %></td>
			</tr>
			<tr>
					<td class="leftcol"><%= t 'student.sstatus' %><font color="red"> * </font></td>
					<td><%= f.select :sstatus,
					           Student::STATUS,
					           :prompt => t ('select') %>
					</td>
			</tr>
			<tr class="bong2" style="display: none;">
					<td class="leftcol"><%=t 'student.sstatus_remark'%></td>
					<td><%= f.text_field :sstatus_remark %></td>
			</tr>
			<tr class="bong3" style="display: none;">
					<td class="leftcol"><%=t 'student.semester_repeated'%></td>
					<td><%= f.text_field :sstatus_remark %>&nbsp;<font size="-2" color= "grey"><%=t'student.repeated_notes'%></font></td>
			</tr>
			<tr>
					<td class="leftcol"><%= t 'student.stelno' %><font color="red"> * </font></td>
					<td><%= f.text_field :stelno %></td>
			</tr>

			<tr><!--17/11/2011 - Shaliza added translation for address and address duty-->
					<td class="leftcol"><label for="remarks"><%= t 'student.address' %>:</label></td>
					<td><%= f.text_area :address, :size => "40x7" %></td>
			</tr>

			<tr>
					<td class="leftcol"><label for="remarks"><%= t 'student.address_posbasik' %> :</label></td>
					<td><%= f.text_area :address_posbasik, :size => "40x7" %></td>
			</tr>

			<tr>
					<td class="leftcol"><label for="ssponsor"><%=t('student.ssponsor')%></label><font color="red"> * </font></td>
					<td><%= f.select :ssponsor,
					           Student::SPONSOR,
					           :prompt => t('select') %></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="gender"><%=t('student.gender')%></label><font color="red"> * </font></td>
					<td><%= f.radio_button :gender,'1' %><%=t('student.male')%><%= f.radio_button :gender,'2' %><%=t('student.female')%></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="sbirthdt"><%=t('student.dob')%></label></td>
					<td><%= f.date_select :sbirthdt, :start_year => 55.years.ago.year, :end_year => 15.years.ago.year, :order => [:day, :month, :year] %></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="mrtlstatuscd"><%= t('student.mrtlstatuscd')%></label><font color="red"> * </font></td>
					<td><%= f.select :mrtlstatuscd,
					           Student::MARITAL_STATUS,
					           :prompt => t('select')  %></td>
			</tr>
			<tr>
					<td class="leftcol"><%= t 'student.race' %></td>
					<td><%= f.select :race2,
					           Student::RACE,
					           :prompt => t('select')  %>
						<!--display previously entered race-->
						<font color="blue"><%=t('student.previous_race')%>: <%= @student.race.blank? ? "" : @student.race %></font>
					</td>
			</tr>

			<tr class="bong", style="display: none;">
					<td class="leftcol"><%= t 'student.etnic' %></td>
					<td><%= f.text_field :race %>
						<!--'race' is now use to store ethnic, field only displayed upon selection of LAIN-LAIN RACE-->
					</td>
			</tr>

			<tr>
					<td class="leftcol"><label for="semail"><%= t 'student.semail' %></label></td>
					<td><%= f.text_field :semail %></td>
			</tr>
			<tr>
					<td class="leftcol"><%= t 'student.regdate' %></td>
					<td><%= f.date_select :regdate, :start_year => 2007, :end_year => 10.years.from_now.year, :order => [:day, :month, :year] %></td>
			</tr>
			<tr>
					<td class="leftcol"><%= t 'student.offer_letter_serial' %></td>
					<td><%= f.text_field :offer_letter_serial %></td>
			</tr>

			<tr>
					<td class="leftcol"><label for="upload"><b><%= t 'staff.upload' %></b></label></td>
					<td><%= f.file_field :photo %></td>
			</tr>
	</table><BR><BR>


	<H2><%=t('student.course_details')%></H2>
	<table width=100%>
			<tr>
					<td class="leftcol"><label for="course_id"><%=t('student.course_id')%></label></td>
					<td><%= f.collection_select :course_id, Programme.roots, :id, :programme_list, :include_blank => t('select') %></td>
			</tr>
			<!--15/11/2011 - Shaliza hide specialisation because I add :programme_with_specialisation in programme field.
			<tr>
					<td class="leftcol"><label for="specilisation">Specialisation:</label></td>
					<td><#%= f.text_field :specilisation %></td>
			</tr>-->

			<!--<tr>
					<td class="leftcol"><label for="group_id"><%#=t('student.group_id')%></label></td>
					<td><%#= f.text_field :group_id %></td>
			</tr>
			-->
			<tr><!-- 21/10/2011 - Shaliza add red star (*) or validates_presence_of for Intake session to avoid it's got error in index page if its empty -->
				<td class="leftcol"><label for="intake">
					<%=t('student.group_id')%>/<%=t('student.intake_id')%></label><font color="red"> * </font>
				</td>
				<td><%#= f.date_select :intake, :order => [:month, :year], :class => 'compulsory' %>
					<% unless @student.new_record? %>
						<% curr_intake=Intake.get_intake(@student.intake, @student.course_id) rescue Intake.last %>
					<% end %>
					<%= f.collection_select :intake_id, Intake.all(:order=>'programme_id ASC, monthyear_intake DESC'), :id, :programme_group_intake,{:include_blank=> (t 'select'), :selected => curr_intake}%>
					<font size="-2px" color="grey"><%=h @student.intake.try(:strftime, '%b %Y') %></font>
				</td>
			</tr>
			<!-- Note : Training Modules -> create intake -->
			<!--
			<tr>
					<td class="leftcol"><label for="intake">Intake Session:</label><font color="red"> * </font></td>

					<td><%#= f.collection_select :intake_id, Intake.find(:all, :conditions => ['is_active = ?', true ], :order => 'register_on DESC'), :id, :name, :include_blank => true %></td>
			</tr>-->

			<tr>
					<td class="leftcol"><label for="end_training"><%=t('student.end_training')%></label></td>
					<td><%= f.date_select :end_training, :end_year => 12.years.from_now.year, :order => [:day, :month, :year] %></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="remarks"><%=t('student.remark')%></label></td>
					<td><%= f.text_field :course_remarks %></td>
			</tr>
	</table>
	<BR><BR>

	<H2><%=t('student.health_status')%></H2>
	<table width=100%>
			<tr>
					<td class="leftcol"><label for="physical"><%=t('student.physical')%></label></td>
					<td><%= f.text_field :physical %></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="allergy"><%=t('student.allergy')%></label></td>
					<td><%= f.text_field :allergy %></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="allergy"><%=t('student.disease')%></label></td>
					<td><%= f.text_field :disease %></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="bloodtype"><%=t('student.bloodtype')%></label></td>
					<td><%= f.select :bloodtype,
					           Student::BLOOD_TYPE,
					           :prompt => t('select') %></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="medication"><%=t('student.medication')%></label></td>
					<td><%= f.text_field :medication %></td>
			</tr>
			<tr>
					<td class="leftcol"><label for="remarks"><%=t('student.remark')%></label></td>
					<td><%= f.text_area :remarks, :size => "30x7" %></td>
			</tr>
	</table><BR><BR>


	<div>
	  <H2><%=t('student.qualification')%></H2>
		<p><strong>
				<div style="width: 190px; float: left;">|  <%=t('student.level_id')%> </div>
				<div style="width: 255px; float: left;">|  <%=t('student.qname')%> </div>
				<div style="width: 380px; float: left;">|  <%=t('student.institute')%></div>
				</strong></p><BR>
		<% f.fields_for :qualifications do |builder| %>
			<%= render 'qualification_fields', :f => builder %>
		<% end %>
		<p><%= link_to_add_fields image_tag("add.png", :border => 0, :title => 'Add Q'), f, :qualifications %> - <%=t('addmore')%> </p>
	</div><BR><BR>

	<div>
	  <H2><%=t('student.spm_results')%></H2>
		<p><strong>
				<div style="width: 253px; float: left;">|  <%=t('student.subject')%></div>
				<div style="width: 255px; float: left;">|  <%=t('student.grade')%>  </div>
				</strong></p><BR>
		<% f.fields_for :spmresults do |builder| %>
			<%= render 'spmresult_fields', :f => builder %>
		<% end %>
		<p><%= link_to_add_fields image_tag("add.png", :border => 0, :title => 'Add Q'), f, :spmresults %> - <%=t('addmore')%> </p>
	</div><BR><BR>



	<div>
	  <H2><%=t('student.contact_guarantor')%></H2>
		<p><strong>
				<div style="width: 170px; float: left;">|  <%= t 'student.kintype_id' %> </div>
				<div style="width: 250px; float: left;">|  <%= t 'student.name' %> </div>
				<div style="width: 160px; float: left;">|  <%= t 'student.icno' %> </div>
				<div style="width: 150px; float: left;">|  <%= t 'staff.phone' %> </div>
				<div style="width: 170px; float: left;">|  <%= t('student.profession')%> </div><BR>
				<div style="width: 170px; float: left;">|  <%= t('student.address')%></div><BR></strong></p>
		<% f.fields_for :kins do |builder| %>
			<%= render 'kin_fields', :f => builder -%>
		<% end %>
		<p><%= link_to_add_fields image_tag("add.png", :border => 0, :title => 'Add More'), f, :kins %> - <%=t('addmore')%> </p>
	</div><BR><BR>

</div>

<script type="text/javascript">
	$j(document).ready(function(){
		$j('#student_race2').change(function() {
		    if($j(this).val() == 21) {
		      $j('.bong').show();
					//$j('.koik').hide();
		    }else {
		     	 $j('.bong').hide();
					 //$j('.koik').show();
		    }
		});

		$j('#student_sstatus').change(function() {
		    if($j(this).val() == "Transfer College") {
		      $j('.bong2').show();
		    }else {
		      $j('.bong2').hide();
		    }
		});
		$j('#student_sstatus').each(function() {
		    if($j(this).val() == "Transfer College") {
		      $j('.bong2').show();
		    }else {
		      $j('.bong2').hide();
		    }
		});

		$j('#student_sstatus').change(function() {
		    if($j(this).val() == "Repeat") {
		      $j('.bong3').show();
		    }else {
		      $j('.bong3').hide();
		    }
		});
		$j('#student_sstatus').each(function() {
		    if($j(this).val() == "Repeat") {
		      $j('.bong3').show();
		    }else {
		      $j('.bong3').hide();
		    }
		});
	});


</script>
